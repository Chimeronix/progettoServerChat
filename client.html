<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>WebSocket Brugnoni & Amantini</title>
    <style>
      label {
        font:
        1rem 'Fira Sans',
        sans-serif;
      }

      input,
      label {
        margin: 0.4rem 0;
      }
    </style>
</head>
<body>
  <p>Inserire Username e Password per effettuare il Login.</p>
  <label for="username">Username:</label>
  <input type="text" id="username">
  <label for="password">Password:</label>
  <input type="text" id="password" value="123">
  <label for="messaggio">Messaggio:</label>
  <input type="text" id="messaggio">
  <button onclick="login()">effettua login</button>
  <button onclick="inviaMessaggio()">invia messaggio</button>

  <script>
    const ws = new WebSocket("ws://localhost:8080");
     
    ws.addEventListener('message', function (event) {
        console.log(event.data);
    });
    function login(){
      const usernameVar = document.getElementById("username").value;
      const passwordVar = document.getElementById("password").value;
      const message = `login/${usernameVar}/${passwordVar}`;
    
      ws.send(message);
    }

    function inviaMessaggio(){
      const messaggio = document.getElementById("messaggio").value;
      ws.send(`messaggio/${messaggio}`);
    }
    </script>
</body>
</html>